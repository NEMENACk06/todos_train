<div class=" h-screen mx-auto p-6 bg-gradient-to-b from-indigo-50 to-pink-50 min-h-screen">
  <h1 class="text-3xl font-extrabold mb-6 text-center text-indigo-700">ðŸ“‹ Categories & Todos</h1>
  <!-- à¸Ÿà¸­à¸£à¹Œà¸¡à¹€à¸žà¸´à¹ˆà¸¡à¸«à¸¡à¸§à¸” -->
  <%= render partial: "new", locals: { category: @category } %>
  <div class="grid grid-cols-[auto_1fr] bg-red-50">
    <!-- col1: categories -->
    <%= render partial: "lists", locals: { categories: @categories } %>
    <!-- col2: todos-->
    <% if params[:category_id].present? %>
      <% category = @categories.find { |c| c.id == params[:category_id].to_i } %>
      <% if category %>
        <div class="border-2 border-indigo-200 rounded-xl bg-white shadow-lg p-5">
          <div class="flex justify-between items-center mb-4 min">
            <h2 class="text-xl font-bold text-indigo-600">
              <%= category_name_with_count(category)  %>
            </h2>
            <%= link_to "ðŸ—‘ à¸¥à¸š",
              category_path(category),
              data: { turbo_method: :delete, turbo_confirm: "à¸¥à¸šà¸«à¸¡à¸§à¸”à¸™à¸µà¹‰à¹à¸¥à¸°à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”?" },
              class: "text-red-500 hover:text-red-700" %>
          </div>
          <!-- Todos -->
          <ul id="<%= dom_id(category, :todos) %>" class="space-y-2">
            <%= render category.todos.by_due_date, category: category %>
          </ul>
          <!-- à¸Ÿà¸­à¸£à¹Œà¸¡à¹€à¸žà¸´à¹ˆà¸¡ Todo -->
          <div id="<%= dom_id(category, :new_todo_form) %>" class="mt-5">
            <%= render "todos/form", category: category, todo: category.todos.build %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
